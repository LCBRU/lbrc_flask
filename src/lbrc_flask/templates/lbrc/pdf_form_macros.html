{% macro render_form_fields(form) %}
  {{ form.hidden_tag() }}

  {% for f in form %}
      {{ render_field(f) }}
  {% endfor %}
{% endmacro %}


{% macro render_field(field) %}
    {% if field.type == "HiddenField" or field.type == "CSRFTokenField" or field.name == "page" %}
      <!-- Do not render -->
    {% else %}
      <div class="field {% if field.errors %}error{%endif%} {{field.type}}">
        {% if field.type not in ["DescriptionField", "ElementDisplayField", "DataListField", "SearchField"] %}
          {{ field.label() }}
        {% endif %}

        {% if field.type in ["TextAreaField"] %}
          {{ field()|safe }}
        {% elif field.type in ["SelectMultipleField", "SelectField"] %}
          {{ render_select_field(field) }}
        {% else %}
          <input type="text" />
        {% endif %}
      </div>
    {% endif %}
{% endmacro %}


{% macro render_select_field(field) %}
    {% for c in field.choices %}
        <div class="choice">{{ c[1] }}</div>
    {% endfor %}
{% endmacro %}
